(self.webpackChunk=self.webpackChunk||[]).push([[36934],{36934:function(e,t,r){"use strict";r.d(t,{A:function(){return P}}),r(29305),r(32733),r(84701),r(69892),r(84734),r(44962),r(86584),r(89336),r(26448),r(78557),r(67593),r(96054),r(90076),r(95021),r(73687),r(83994),r(93062),r(82367);var a=r(22696),i=r.n(a),n=r(38490),o=r(34789),s=r(5898),l=r(59774),d=r(44797),c=r(10838),u=r(10736),m=r(8566),g=r(98320),f=r(9164),v=r(39738),h=r(82885),p=r(76542),y=r(46782),b=r(22832),S=r(47629);function I(e){return I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},I(e)}function A(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return T(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?T(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var a=0,i=function(){};return{s:i,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var n,o=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return o=e.done,e},e:function(e){s=!0,n=e},f:function(){try{o||null==r.return||r.return()}finally{if(s)throw n}}}}function T(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,a=Array(t);r<t;r++)a[r]=e[r];return a}function w(e,t){var r=e.posLeft;r||(r=parseFloat(e.style.left.replace("%","")),e.posLeft=r);var a=e.posWidth;a||(a=parseFloat(e.style.width.replace("%","")),e.posWidth=a);var i=r+a,n=(Math.max(Math.min(t,i),r)-r)/a*100,o=e.guideProgramName;o||(o=e.querySelector(".guideProgramName"),e.guideProgramName=o);var s=e.caret;s||(s=e.querySelector(".guide-programNameCaret"),e.caret=s),o&&(n>0&&n<=100?(o.style.transform="translateX("+n+"%)",s.classList.remove("hide")):(o.style.transform="none",s.classList.add("hide")))}r(57447),r(10353),r(15453),r(79845),r(41765),r(69177);var D=!1;function C(e,t){D||(D=!0,requestAnimationFrame((function(){var r,a=e.scrollLeft,i=a?a/e.scrollWidth*100:0,n=A(t);try{for(n.s();!(r=n.n()).done;)w(r.value,i)}catch(e){n.e(e)}finally{n.f()}D=!1})))}function L(e){if(y.A.tv){var t=S.Ay.parentWithClass(e.target,"programCell");if(t){var r=t.getAttribute("data-startdate"),a=t.getAttribute("data-enddate");r=g.Ay.parseISO8601Date(r,{toLocal:!0}).getTime(),a=g.Ay.parseISO8601Date(a,{toLocal:!0}).getTime();var i=(new Date).getTime();if(i>=r&&i<a){var n=t.getAttribute("data-channelid"),o=t.getAttribute("data-serverid");e.preventDefault(),e.stopPropagation(),v.f.play({ids:[n],serverId:o})}}}}var P=function(e){var t=this,a={};t.options=e,t.categoryOptions={categories:[]};var v,T,w,D,P=864e5,x=0,E=0;function H(){N(),T=setInterval((function(){t.refresh()}),9e5)}function N(){T&&(clearInterval(T),T=null)}function M(){m.Ay.show()}function O(e){if("string"===I(e).toString().toLowerCase())try{e=g.Ay.parseISO8601Date(e,{toLocal:!0})}catch(t){return e}return g.Ay.getDisplayTime(e).toLowerCase()}function q(e){if(!e.StartDateLocal)try{e.StartDateLocal=g.Ay.parseISO8601Date(e.StartDate,{toLocal:!0})}catch(e){console.error("error parsing timestamp for start date",e)}if(!e.EndDateLocal)try{e.EndDateLocal=g.Ay.parseISO8601Date(e.EndDate,{toLocal:!0})}catch(e){console.error("error parsing timestamp for end date",e)}return null}function k(e){var t;if("SeriesTimer"===e.Type)return'<span class="material-icons programIcon seriesTimerIcon fiber_smart_record" aria-hidden="true"></span>';if(e.TimerId||e.SeriesTimerId)t=e.Status||"Cancelled";else{if("Timer"!==e.Type)return"";t=e.Status}return e.SeriesTimerId?"Cancelled"!==t?'<span class="material-icons programIcon seriesTimerIcon fiber_smart_record" aria-hidden="true"></span>':'<span class="material-icons programIcon seriesTimerIcon seriesTimerIcon-inactive fiber_smart_record" aria-hidden="true"></span>':'<span class="material-icons programIcon timerIcon fiber_manual_record" aria-hidden="true"></span>'}function W(e,r,n,o,l,d){var c="",u=r.getTime(),m=u+P-1;c+='<div class="'+(y.A.tv?"channelPrograms channelPrograms-tv":"channelPrograms")+'" data-channelid="'+n.Id+'">';for(var g,f=y.A.tv?"link":"programdialog",v=t.categoryOptions.categories||[],p=!v.length||-1!==v.indexOf("movies"),b=!v.length||-1!==v.indexOf("sports"),S=!v.length||-1!==v.indexOf("news"),I=!v.length||-1!==v.indexOf("kids"),A=!v.length||-1!==v.indexOf("series"),T="true"===h.get("guide-colorcodedbackgrounds"),w=(new Date).getTime(),D=d.startIndex,C=o.length;D<C;D++){var L=o[D];if(L.ChannelId===n.Id){g=!0,d.startIndex++,q(L);var x=L.StartDateLocal.getTime(),E=L.EndDateLocal.getTime();if(!(E<u)){if(x>m)break;a[L.Id]=L;var H=Math.max(x,u),N=(x-u)/P;N*=100,N=Math.max(N,0);var M=(Math.min(E,m)-H)/P;M*=100;var O="programCell itemAction",W=null,F=!0;L.IsKids?(F=I,W="kids"):L.IsSports?(F=b,W="sports"):L.IsNews?(F=S,W="news"):L.IsMovie?(F=p,W="movie"):F=(L.IsSeries||p&&S&&b&&I)&&A,F&&T&&W&&(O+=" programCell-"+W),w>=x&&w<E&&(O+=" programCell-active");var _="";if(L.TimerId&&(_+=' data-timerid="'+L.TimerId+'"'),L.SeriesTimerId&&(_+=' data-seriestimerid="'+L.SeriesTimerId+'"'),c+="<button"+(M>=2?' is="emby-programcell"':"")+' data-action="'+f+'"'+_+' data-channelid="'+L.ChannelId+'" data-id="'+L.Id+'" data-serverid="'+L.ServerId+'" data-startdate="'+L.StartDate+'" data-enddate="'+L.EndDate+'" data-type="'+L.Type+'" class="'+O+'" style="left:'+N+"%;width:"+M+'%;">',F){c+='<div class="guideProgramName">',c+='<div class="guide-programNameCaret hide"><span class="guideProgramNameCaretIcon material-icons keyboard_arrow_left" aria-hidden="true"></span></div>',c+='<div class="guideProgramNameText">'+i()(L.Name);var R=null;L.IsLive&&l.showLiveIndicator?R='<span class="liveTvProgram guideProgramIndicator">'+s.Ay.translate("Live")+"</span>":L.IsPremiere&&l.showPremiereIndicator?R='<span class="premiereTvProgram guideProgramIndicator">'+s.Ay.translate("Premiere")+"</span>":L.IsSeries&&!L.IsRepeat&&l.showNewIndicator?R='<span class="newTvProgram guideProgramIndicator">'+s.Ay.translate("New")+"</span>":L.IsSeries&&L.IsRepeat&&l.showRepeatIndicator&&(R='<span class="repeatTvProgram guideProgramIndicator">'+s.Ay.translate("Repeat")+"</span>"),c+=R||"",L.EpisodeTitle&&l.showEpisodeTitle&&(c+='<div class="guideProgramSecondaryInfo">',L.EpisodeTitle&&l.showEpisodeTitle&&(c+='<span class="programSecondaryTitle">'+i()(L.EpisodeTitle)+"</span>"),c+="</div>"),c+="</div>",L.IsHD&&l.showHdIcon&&(y.A.tv?c+='<div class="programIcon guide-programTextIcon guide-programTextIcon-tv">HD</div>':c+='<div class="programIcon guide-programTextIcon">HD</div>'),c+=k(L),c+="</div>"}c+="</button>"}}else if(g)break}return c+"</div>"}function F(e,t){for(var r=e.ChannelId,a=-1,i=0,n=t.length;i<n;i++)if(r===t[i].Id){a=i;break}return 1e7*a+g.Ay.parseISO8601Date(e.StartDate,{toLocal:!0}).getTime()/6e4}function _(e,t,r){e.scrollTo?r?e.scrollTo(t,0):e.scrollTo(0,t):r?e.scrollLeft=Math.round(t):e.scrollTop=Math.round(t)}t.refresh=function(){v=null,V(e.element),H()},t.pause=function(){N()},t.resume=function(e){e?t.refresh():H()},t.destroy=function(){N(),d.A.off(u.default,"TimerCreated",X),d.A.off(u.default,"TimerCancelled",Y),d.A.off(u.default,"SeriesTimerCancelled",J),K(e.element,!1),b.Ay.off(e.element),a={}};var R=0,B=0,j=0;function U(r,n,o,s,d,c){var u=function(e){return e.getMinutes()-30>=0?e.setHours(e.getHours(),30,0,0):e.setHours(e.getHours(),0,0,0),e}(n);v=u,function(r,n,o,s,d,c){var u=l.tF.getApiClient(e.serverId),g={StartIndex:0,EnableFavoriteSorting:"false"!==h.get("livetv-favoritechannelsattop")};g.UserId=u.getCurrentUserId();var v=500;E=v,M(),g.StartIndex=x,g.Limit=v,g.AddCurrentProgram=!1,g.EnableUserData=!1,g.EnableImageTypes="Primary";var b=t.categoryOptions.categories||[],I=!b.length||-1!==b.indexOf("movies"),T=!b.length||-1!==b.indexOf("sports"),D=!b.length||-1!==b.indexOf("news"),L=!b.length||-1!==b.indexOf("kids"),H=!b.length||-1!==b.indexOf("series");I&&T&&D&&L?(g.IsMovie=null,g.IsSports=null,g.IsKids=null,g.IsNews=null,g.IsSeries=null):(D&&(g.IsNews=!0),T&&(g.IsSports=!0),L&&(g.IsKids=!0),I&&(g.IsMovie=!0),H&&(g.IsSeries=!0)),"DatePlayed"===h.get("livetv-channelorder")?(g.SortBy="DatePlayed",g.SortOrder="Descending"):(g.SortBy=null,g.SortOrder=null);var N=n;N=new Date(N.getTime()+1e3);var q=new Date(N.getTime()+P-2e3),k=S.Ay.getWindowSize().innerWidth>=600,R={showHdIcon:k&&"true"===h.get("guide-indicator-hd"),showLiveIndicator:k&&"false"!==h.get("guide-indicator-live"),showPremiereIndicator:k&&"false"!==h.get("guide-indicator-premiere"),showNewIndicator:k&&"false"!==h.get("guide-indicator-new"),showRepeatIndicator:k&&"true"===h.get("guide-indicator-repeat"),showEpisodeTitle:!y.A.tv};u.getLiveTvChannels(g).then((function(e){var t=r.querySelector(".btnPreviousPage"),n=r.querySelector(".btnNextPage");e.TotalRecordCount>v?(r.querySelector(".guideOptions").classList.remove("hide"),t.classList.remove("hide"),n.classList.remove("hide"),g.StartIndex?r.querySelector(".btnPreviousPage").disabled=!1:r.querySelector(".btnPreviousPage").disabled=!0,g.StartIndex+v<e.TotalRecordCount?n.disabled=!1:n.disabled=!0):r.querySelector(".guideOptions").classList.add("hide");var l=[],h={UserId:u.getCurrentUserId(),MaxStartDate:q.toISOString(),MinEndDate:N.toISOString(),channelIds:e.Items.map((function(e){return e.Id})).join(","),ImageTypeLimit:1,EnableImages:!1,SortBy:"StartDate",EnableTotalRecordCount:!1,EnableUserData:!1};R.showHdIcon&&l.push("IsHD"),l.length&&(h.Fields=l.join("")),u.getLiveTvPrograms(h).then((function(t){var n={focusProgramOnRender:c,scrollToTimeMs:o,focusToTimeMs:s,startTimeOfDayMs:d};!function(e,t,r,n,o,s,l){n.sort((function(e,t){return F(e,r)-F(t,r)}));var d,c=document.activeElement,u=null!=c&&c.getAttribute?c.getAttribute("data-id"):null,m=null;c&&(m=null!==(d=m=S.Ay.parentWithClass(c,"channelPrograms"))&&void 0!==d&&d.getAttribute?m.getAttribute("data-channelid"):null),function(e,t,r){var a,n="",o=A(t);try{for(o.s();!(a=o.n()).done;){var s=a.value,l=s.ImageTags.Primary,d="guide-channelHeaderCell itemAction";y.A.tv&&(d+=" guide-channelHeaderCell-tv");var c=[];s.ChannelNumber&&c.push(s.ChannelNumber),s.Name&&c.push(s.Name),n+='<button title="'+i()(c.join(" "))+'" type="button" class="'+d+'" data-action="link" data-isfolder="'+s.IsFolder+'" data-id="'+s.Id+'" data-serverid="'+s.ServerId+'" data-type="'+s.Type+'">',l&&(n+='<div class="guideChannelImage lazy" data-src="'+r.getScaledImageUrl(s.Id,{maxHeight:220,tag:s.ImageTags.Primary,type:"Primary"})+'"></div>'),s.ChannelNumber&&(n+='<h3 class="guideChannelNumber">'+s.ChannelNumber+"</h3>"),!l&&s.Name&&(n+='<div class="guideChannelName">'+i()(s.Name)+"</div>"),n+="</button>"}}catch(e){o.e(e)}finally{o.f()}var u=e.querySelector(".channelsContainer");u.innerHTML=n,p.default.lazyChildren(u)}(e,r,l);var g=t,v=new Date(g.getTime()+P);e.querySelector(".timeslotHeaders").innerHTML=function(e,t){var r="";for(e=new Date(e.getTime()),r+='<div class="timeslotHeadersInner">';e.getTime()<t;)r+='<div class="timeslotHeader">',r+=O(e),r+="</div>",e.setTime(e.getTime()+18e5);return r}(g,v),a={},function(e,t,r,a,i){var n,o={startIndex:0},s=[],l=A(r);try{for(l.s();!(n=l.n()).done;){var d=n.value;s.push(W(0,t,d,a,i,o))}}catch(e){l.e(e)}finally{l.f()}Z.innerHTML=s.join(""),w=Z.querySelectorAll("[is=emby-programcell]"),C(Z,w)}(0,t,r,n,o),s.focusProgramOnRender&&function(e,t,r,a,i){var n;if(t&&(n=e.querySelector('[data-id="'+t+'"]')),n)f.A.focus(n);else{var o;r&&(o=e.querySelector('[data-channelid="'+r+'"]')),o||(o=Z);for(var s=(a-=i)/P*100,l=o.querySelector(".programCell");l;){var d=(l.style.left||"").replace("%","");d=d?parseFloat(d):0;var c=(l.style.width||"").replace("%","");if(c=c?parseFloat(c):0,d>=s||d+c>=s)break;l=l.nextSibling}l?f.A.focus(l):f.A.autoFocus(o,!0)}}(e,u,m,s.focusToTimeMs,s.startTimeOfDayMs),function(e,t,r){var a=(t-=r)/P;Z.scrollTop=0;var i=a*Z.scrollWidth;_(Z,i,!0)}(0,s.scrollToTimeMs,s.startTimeOfDayMs)}(r,N,e.Items,t.Items,R,n,u),m.Ay.hide()}))}))}(r,u,o,s,d,c)}function z(e,t,r){var a='<button is="emby-button" class="'+(t?"emby-tab-button guide-date-tab-button emby-tab-button-active":"emby-tab-button guide-date-tab-button")+'" data-index="'+r+'" data-date="'+e.getTime()+'">',i=g.Ay.toLocaleDateString(e,{weekday:"short"});return i+="<br/>",(a+='<div class="emby-button-foreground">'+(i+=e.getDate())+"</div>")+"</button>"}function V(t){M(),l.tF.getApiClient(e.serverId).getLiveTvGuideInfo().then((function(e){!function(e,t){var r=new Date,a=r.getHours();r.setHours(a,0,0,0);var i=g.Ay.parseISO8601Date(t.StartDate,{toLocal:!0}),n=g.Ay.parseISO8601Date(t.EndDate,{toLocal:!0});i.setHours(a,0,0,0),n.setHours(0,0,0,0),i.getTime()>=n.getTime()&&n.setDate(i.getDate()+1),i=new Date(Math.max(r,i));var o="",s=0,l=new Date;v&&l.setTime(v.getTime()),l.setHours(a,0,0,0);var d=60*i.getHours()*60*1e3;for(d+=60*i.getMinutes()*1e3;i<=n;){var c=l.getDate()===i.getDate()&&l.getMonth()===i.getMonth()&&l.getFullYear()===i.getFullYear();o+=z(i,c,s),i.setDate(i.getDate()+1),i.setHours(0,0,0,0),s++}e.querySelector(".emby-tabs-slider").innerHTML=o,e.querySelector(".guideDateTabs").refresh();var u=new Date,m=u.getHours(),f=60*m*60*1e3,h=u.getMinutes();h>=30&&(f+=18e5),U(e,l,f,60*(60*m+h)*1e3,d,y.A.tv)}(t,e)}))}function G(e){var t,r=e.querySelectorAll(".programCell"),a=[],i=j+1,n=A(r);try{for(n.s();!(t=n.n()).done;){var o=t.value,s=(o.style.left||"").replace("%","");s=s?parseFloat(s):0;var l=(o.style.width||"").replace("%","");s+(l=l?parseFloat(l):0)>=i&&a.push(o)}}catch(e){n.e(e)}finally{n.f()}return a}function $(e){var t,r,a,i=e.target,n=S.Ay.parentWithClass(i,"programCell");switch(e.detail.command){case"up":n?(t=Z,(a=S.Ay.parentWithClass(n,"channelPrograms").previousSibling)?(r=G(a)).length?t=a:r=null:t=null):t=null,D=e.detail.command,f.A.moveUp(i,{container:t,focusableElements:r});break;case"down":n?(t=Z,(a=S.Ay.parentWithClass(n,"channelPrograms").nextSibling)?(r=G(a)).length?t=a:r=null:t=null):t=null,D=e.detail.command,f.A.moveDown(i,{container:t,focusableElements:r});break;case"left":(t=n?S.Ay.parentWithClass(n,"channelPrograms"):null)&&!n.previousSibling&&(t=null),D=e.detail.command,f.A.moveLeft(i,{container:t});break;case"right":t=n?S.Ay.parentWithClass(n,"channelPrograms"):null,D=e.detail.command,f.A.moveRight(i,{container:t});break;default:return}e.preventDefault(),e.stopPropagation()}function K(e,t){if(y.A.tv){var r=e.querySelector(".guideVerticalScroller");t?n.default.on(r,$):n.default.off(r,$)}}function X(t,r,a){var i,n=a.ProgramId,o=a.Id,s=A(e.element.querySelectorAll('.programCell[data-id="'+n+'"]'));try{for(s.s();!(i=s.n()).done;){var l=i.value;l.querySelector(".timerIcon")||l.querySelector(".guideProgramName").insertAdjacentHTML("beforeend",'<span class="timerIcon material-icons programIcon fiber_manual_record"></span>'),o&&l.setAttribute("data-timerid",o)}}catch(e){s.e(e)}finally{s.f()}}function Y(t,r,a){var i,n=a.Id,o=A(e.element.querySelectorAll('.programCell[data-timerid="'+n+'"]'));try{for(o.s();!(i=o.n()).done;){var s=i.value,l=s.querySelector(".timerIcon");l&&l.parentNode.removeChild(l),s.removeAttribute("data-timerid")}}catch(e){o.e(e)}finally{o.f()}}function J(t,r,a){var i,n=a.Id,o=A(e.element.querySelectorAll('.programCell[data-seriestimerid="'+n+'"]'));try{for(o.s();!(i=o.n()).done;){var s=i.value,l=s.querySelector(".seriesTimerIcon");l&&l.parentNode.removeChild(l),s.removeAttribute("data-seriestimerid")}}catch(e){o.e(e)}finally{o.f()}}var Q=e.element;Q.classList.add("tvguide"),Q.innerHTML=s.Ay.translateHtml('<div class="tvGuideHeader"> <div class="guideHeaderDateSelection"> <div is="emby-tabs" class="guideDateTabs focuscontainer-x" data-selectionbar="false"> <div class="emby-tabs-slider guideDateTabsSlider"> </div> </div> </div> <div class="guide-headerTimeslots"> <div class="guide-channelTimeslotHeader"> <button is="paper-icon-button-light" type="button" class="btnGuideViewSettings" title="${ButtonMore}"> <span class="material-icons btnGuideViewSettingsIcon more_vert" aria-hidden="true"></span> </button> </div> <div class="timeslotHeaders scrollX guideScroller"></div> </div> </div> <div is="emby-scroller" class="guideVerticalScroller flex flex-grow programContainer guideScroller" data-skipfocuswhenvisible="true" data-horizontal="false"> <div class="scrollSlider flex flex-grow flex-direction-row" style="overflow:hidden;contain:layout style paint"> <div class="channelsContainer"> <div class="channelList"></div> </div> <div class="programGrid scrollX guideScroller flex-grow focuscontainer-right" style="white-space:nowrap"> </div> </div> </div> <div class="guideOptions hide"> <button is="paper-icon-button-light" type="button" class="btnPreviousPage" title="${Previous}"> <span class="material-icons arrow_back" aria-hidden="true"></span> </button> <button is="paper-icon-button-light" type="button" class="btnNextPage" title="${Next}"> <span class="material-icons arrow_forward" aria-hidden="true"></span> </button> </div> ',"core");var Z=Q.querySelector(".programGrid"),ee=Q.querySelector(".timeslotHeaders");y.A.tv?S.Ay.addEventListener(Q.querySelector(".guideVerticalScroller"),"focus",(function(e){var r=e.target,i=S.Ay.parentWithClass(r,"programCell");if(i){var n=r.getAttribute("data-id"),o=a[n];o&&d.A.trigger(t,"focus",[{item:o}])}if("left"===D)i&&c.default.toStart(Z,i,!0,!0);else if("right"===D)i&&c.default.toCenter(Z,i,!0,!0);else if("up"===D||"down"===D){var s=S.Ay.parentWithClass(r,"guideVerticalScroller");if(s){var l=i||S.Ay.parentWithTag(r,"BUTTON");s.toCenter(l,!0)}}}),{capture:!0,passive:!0}):y.A.desktop&&ee.classList.add("timeslotHeaders-desktop"),(o.A.iOS||o.A.osx)&&(Q.querySelector(".channelsContainer").classList.add("noRubberBanding"),Z.classList.add("noRubberBanding")),S.Ay.addEventListener(Z,"scroll",(function(){!function(e,t,r){if((new Date).getTime()-B>=1e3){R=(new Date).getTime();var a=t.scrollLeft;j=100*a/t.scrollWidth,_(r,a,!0)}C(t,w)}(0,this,ee)}),{passive:!0}),S.Ay.addEventListener(ee,"scroll",(function(){(new Date).getTime()-R>=1e3&&(B=(new Date).getTime(),_(Z,this.scrollLeft,!0))}),{passive:!0}),Z.addEventListener("click",L),Q.querySelector(".btnNextPage").addEventListener("click",(function(){x+=E,V(Q),H()})),Q.querySelector(".btnPreviousPage").addEventListener("click",(function(){x=Math.max(x-E,0),V(Q),H()})),Q.querySelector(".btnGuideViewSettings").addEventListener("click",(function(){var e;e=t,r.e(25029).then(r.bind(r,25029)).then((function(t){t.default.show(e.categoryOptions).then((function(){e.refresh()}))})),H()})),Q.querySelector(".guideDateTabs").addEventListener("tabchange",(function(e){var t=e.target.querySelectorAll(".guide-date-tab-button"),r=t[parseInt(e.detail.selectedTabIndex,10)];if(r){var a=null==e.detail.previousIndex?null:t[parseInt(e.detail.previousIndex,10)],i=new Date;i.setTime(parseInt(r.getAttribute("data-date"),10));var n,o=Z.scrollWidth;if(n=o?Z.scrollLeft/o*P:0,a){var s=new Date;s.setTime(parseInt(a.getAttribute("data-date"),10)),n+=60*s.getHours()*60*1e3,n+=60*s.getMinutes()*1e3}var l=60*i.getHours()*60*1e3;l+=60*i.getMinutes()*1e3,U(Q,i,n,n,l,!1)}})),K(Q,!0),b.Ay.on(Q),d.A.trigger(t,"load"),d.A.on(u.default,"TimerCreated",X),d.A.on(u.default,"TimerCancelled",Y),d.A.on(u.default,"SeriesTimerCancelled",J),t.refresh()}},41765:function(e,t,r){"use strict";r(44962),r(78557),r(90076),r(83994),r(82367);var a=r(4113),i=r(47629),n=r(46782),o=r(38490),s=r(9164),l=r(34789),d=(r(69177),Object.create(HTMLDivElement.prototype));function c(e){var t=e.detail.command;"end"===t?(s.A.focusLast(this,"."+this.getAttribute("data-navcommands")),e.preventDefault(),e.stopPropagation()):"pageup"===t?(s.A.moveFocus(e.target,this,"."+this.getAttribute("data-navcommands"),-12),e.preventDefault(),e.stopPropagation()):"pagedown"===t&&(s.A.moveFocus(e.target,this,"."+this.getAttribute("data-navcommands"),12),e.preventDefault(),e.stopPropagation())}d.createdCallback=function(){this.classList.add("emby-scroller")},d.scrollToBeginning=function(){this.scroller&&this.scroller.slideTo(0,!0)},d.toStart=function(e,t){this.scroller&&this.scroller.toStart(e,t)},d.toCenter=function(e,t){this.scroller&&this.scroller.toCenter(e,t)},d.scrollToPosition=function(e,t){this.scroller&&this.scroller.slideTo(e,t)},d.getScrollPosition=function(){if(this.scroller)return this.scroller.getScrollPosition()},d.getScrollSize=function(){if(this.scroller)return this.scroller.getScrollSize()},d.getScrollEventName=function(){if(this.scroller)return this.scroller.getScrollEventName()},d.getScrollSlider=function(){if(this.scroller)return this.scroller.getScrollSlider()},d.addScrollEventListener=function(e,t){this.scroller&&i.Ay.addEventListener(this.scroller.getScrollFrame(),this.scroller.getScrollEventName(),e,t)},d.removeScrollEventListener=function(e,t){this.scroller&&i.Ay.removeEventListener(this.scroller.getScrollFrame(),this.scroller.getScrollEventName(),e,t)},d.attachedCallback=function(){this.getAttribute("data-navcommands")&&o.default.on(this,c);var e="false"!==this.getAttribute("data-horizontal"),t=this.querySelector(".scrollSlider");e&&(t.style["white-space"]="nowrap");var d,u,m=n.A.desktop&&e&&"false"!==this.getAttribute("data-scrollbuttons"),g={horizontal:e,mouseDragging:1,mouseWheel:"false"!==this.getAttribute("data-mousewheel"),touchDragging:1,slidee:t,scrollBy:200,speed:e?270:240,elasticBounds:1,dragHandle:1,autoImmediate:!0,skipSlideToWhenVisible:"true"===this.getAttribute("data-skipfocuswhenvisible"),dispatchScrollEvent:m||"true"===this.getAttribute("data-scrollevent"),hideScrollbar:m||"true"===this.getAttribute("data-hidescrollbar"),allowNativeSmoothScroll:"true"===this.getAttribute("data-allownativesmoothscroll")&&!m,allowNativeScroll:!m,forceHideScrollbars:m,requireAnimation:m&&l.A.edge};this.scroller=new a.A(this,g),this.scroller.init(),this.scroller.reload(),n.A.tv&&this.getAttribute("data-centerfocus")&&(d=this.scroller,i.Ay.addEventListener(this,"focus",(function(e){var t=s.A.focusableParent(e.target);t&&d.toCenter(t)}),{capture:!0,passive:!0})),m&&(u=this,r.e(49275).then(r.bind(r,49275)).then((function(){u.insertAdjacentHTML("beforebegin",'<div is="emby-scrollbuttons" class="emby-scrollbuttons padded-right"></div>')})))},d.pause=function(){var e=this.headroom;e&&e.pause()},d.resume=function(){var e=this.headroom;e&&e.resume()},d.detachedCallback=function(){this.getAttribute("data-navcommands")&&o.default.off(this,c);var e=this.headroom;e&&(e.destroy(),this.headroom=null);var t=this.scroller;t&&(t.destroy(),this.scroller=null)},document.registerElement("emby-scroller",{prototype:d,extends:"div"})},57447:function(){var e=Object.create(HTMLButtonElement.prototype);e.detachedCallback=function(){this.posLeft=null,this.posWidth=null,this.guideProgramName=null},document.registerElement("emby-programcell",{prototype:e,extends:"button"})}}]);