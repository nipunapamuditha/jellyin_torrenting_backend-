"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[45378],{36720:function(e,n,t){t.d(n,{_r:function(){return l},t5:function(){return i}});var r=t(94732),o=t(61586),a=t(69410),i="Configuration",l=function(){var e=(0,a.gf)().api;return(0,o.I)({queryKey:[i],queryFn:function(n){var t=n.signal;return function(e,n){return t=void 0,o=void 0,i=function(){return function(e,n){var t,r,o,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},i=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return i.next=l(0),i.throw=l(1),i.return=l(2),"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(l){return function(c){return function(l){if(t)throw new TypeError("Generator is already executing.");for(;i&&(i=0,l[0]&&(a=0)),a;)try{if(t=1,r&&(o=2&l[0]?r.return:l[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,l[1])).done)return o;switch(r=0,o&&(l=[2&l[0],o.value]),l[0]){case 0:case 1:o=l;break;case 4:return a.label++,{value:l[1],done:!1};case 5:a.label++,r=l[1],l=[0];continue;case 7:l=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==l[0]&&2!==l[0])){a=0;continue}if(3===l[0]&&(!o||l[1]>o[0]&&l[1]<o[3])){a.label=l[1];break}if(6===l[0]&&a.label<o[1]){a.label=o[1],o=l;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(l);break}o[2]&&a.ops.pop(),a.trys.pop();continue}l=n.call(e,a)}catch(e){l=[6,e],r=0}finally{t=o=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,c])}}}(this,(function(t){switch(t.label){case 0:return[4,(0,r.T)(e).getConfiguration(n)];case 1:return[2,t.sent().data]}}))},new((a=void 0)||(a=Promise))((function(e,n){function r(e){try{c(i.next(e))}catch(e){n(e)}}function l(e){try{c(i.throw(e))}catch(e){n(e)}}function c(n){var t;n.done?e(n.value):(t=n.value,t instanceof a?t:new a((function(e){e(t)}))).then(r,l)}c((i=i.apply(t,o||[])).next())}));var t,o,a,i}(e,{signal:t})},enabled:!!e})}},79905:function(e,n,t){t.r(n),t.d(n,{Component:function(){return N},action:function(){return L}});var r=t(62540),o=t(63696),a=t(94732),i=t(84849),l=t(65242),c=t(5898),u=t(59774),s=t(47891),f=t(92779),p=t(63703),y=t(96441),h=t(70140),d=t(70564),b=t(57836),v=t(89348),g=t(87404),w=t(9055),m=t(48272),x=t(61586),S=t(69410),j=function(){var e=(0,S.gf)().api;return(0,x.I)({queryKey:["ServerLogs"],queryFn:function(n){var t=n.signal;return function(e,n){return t=void 0,r=void 0,a=function(){return function(e,n){var t,r,o,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},i=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return i.next=l(0),i.throw=l(1),i.return=l(2),"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(l){return function(c){return function(l){if(t)throw new TypeError("Generator is already executing.");for(;i&&(i=0,l[0]&&(a=0)),a;)try{if(t=1,r&&(o=2&l[0]?r.return:l[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,l[1])).done)return o;switch(r=0,o&&(l=[2&l[0],o.value]),l[0]){case 0:case 1:o=l;break;case 4:return a.label++,{value:l[1],done:!1};case 5:a.label++,r=l[1],l=[0];continue;case 7:l=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==l[0]&&2!==l[0])){a=0;continue}if(3===l[0]&&(!o||l[1]>o[0]&&l[1]<o[3])){a.label=l[1];break}if(6===l[0]&&a.label<o[1]){a.label=o[1],o=l;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(l);break}o[2]&&a.ops.pop(),a.trys.pop();continue}l=n.call(e,a)}catch(e){l=[6,e],r=0}finally{t=o=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,c])}}}(this,(function(t){switch(t.label){case 0:return[4,(0,m.c)(e).getServerLogs(n)];case 1:return[2,t.sent().data]}}))},new((o=void 0)||(o=Promise))((function(e,n){function i(e){try{c(a.next(e))}catch(e){n(e)}}function l(e){try{c(a.throw(e))}catch(e){n(e)}}function c(n){var t;n.done?e(n.value):(t=n.value,t instanceof o?t:new o((function(e){e(t)}))).then(i,l)}c((a=a.apply(t,r||[])).next())}));var t,r,o,a}(e,{signal:t})},enabled:!!e})},A=t(36720),O=t(28335),P=t(35117),k=t(60434),T=t(98320),C=t(95858),E=function(e){var n=e.logs;return(0,r.jsx)(O.A,{sx:{bgcolor:"background.paper"},children:n.map((function(e){return(0,r.jsx)(P.Ay,{disablePadding:!0,children:(0,r.jsx)(C.A,{to:"/dashboard/logs/".concat(e.Name),children:(0,r.jsx)(k.A,{primary:e.Name,secondary:(n=e,t=T.Ay.parseISO8601Date(n.DateModified,!0),T.Ay.toLocaleDateString(t)+" "+T.Ay.getDisplayTime(t)),slotProps:{primary:{variant:"h3"},secondary:{variant:"body1"}}})})},e.Name);var n,t}))})},I=function(){return I=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var o in n=arguments[t])Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o]);return e},I.apply(this,arguments)},R=function(e,n){var t="function"==typeof Symbol&&e[Symbol.iterator];if(!t)return e;var r,o,a=t.call(e),i=[];try{for(;(void 0===n||n-- >0)&&!(r=a.next()).done;)i.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(t=a.return)&&t.call(a)}finally{if(o)throw o.error}}return i},L=function(e){return n=void 0,t=[e],o=function(e){var n,t,r,o,i,l=e.request;return function(e,n){var t,r,o,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},i=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return i.next=l(0),i.throw=l(1),i.return=l(2),"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(l){return function(c){return function(l){if(t)throw new TypeError("Generator is already executing.");for(;i&&(i=0,l[0]&&(a=0)),a;)try{if(t=1,r&&(o=2&l[0]?r.return:l[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,l[1])).done)return o;switch(r=0,o&&(l=[2&l[0],o.value]),l[0]){case 0:case 1:o=l;break;case 4:return a.label++,{value:l[1],done:!1};case 5:a.label++,r=l[1],l=[0];continue;case 7:l=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==l[0]&&2!==l[0])){a=0;continue}if(3===l[0]&&(!o||l[1]>o[0]&&l[1]<o[3])){a.label=l[1];break}if(6===l[0]&&a.label<o[1]){a.label=o[1],o=l;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(l);break}o[2]&&a.ops.pop(),a.trys.pop();continue}l=n.call(e,a)}catch(e){l=[6,e],r=0}finally{t=o=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,c])}}}(this,(function(e){switch(e.label){case 0:if(!(n=u.tF.getCurrentApi()))throw new Error("No Api instance available");return[4,l.formData()];case 1:return t=e.sent(),[4,(0,a.T)(n).getConfiguration()];case 2:return r=e.sent().data,o=t.get("EnableWarningMessage"),r.EnableSlowResponseWarning="on"===o,(i=t.get("SlowResponseTime"))&&(r.SlowResponseThresholdMs=parseInt(i.toString(),10)),[4,(0,a.T)(n).updateConfiguration({serverConfiguration:r})];case 3:return e.sent(),[2,{isSaved:!0}]}}))},new((r=void 0)||(r=Promise))((function(e,a){function i(e){try{c(o.next(e))}catch(e){a(e)}}function l(e){try{c(o.throw(e))}catch(e){a(e)}}function c(n){var t;n.done?e(n.value):(t=n.value,t instanceof r?t:new r((function(e){e(t)}))).then(i,l)}c((o=o.apply(n,t||[])).next())}));var n,t,r,o},N=function(){var e=(0,g.cq)(),n=(0,g.mP)(),t="submitting"===e.state,a=j(),u=a.isPending,m=a.data,x=(0,A._r)(),S=x.isPending,O=x.data,P=R((0,o.useState)(!0),2),k=P[0],T=P[1],C=R((0,o.useState)({}),2),L=C[0],N=C[1];(0,o.useEffect)((function(){!S&&O&&(N(O),T(!1))}),[S,O]);var W=(0,o.useCallback)((function(e,n){N(I(I({},L),{EnableSlowResponseWarning:n}))}),[L]),q=(0,o.useCallback)((function(e){N(I(I({},L),{SlowResponseThresholdMs:parseInt(e.target.value,10)}))}),[L]);return u||S||k||!m?(0,r.jsx)(i.A,{}):(0,r.jsx)(l.A,{id:"logPage",title:c.Ay.translate("TabLogs"),className:"mainAnimatedPage type-interior",children:(0,r.jsxs)(f.A,{className:"content-primary",children:[(0,r.jsx)(w.lV,{method:"POST",children:(0,r.jsxs)(h.A,{spacing:3,children:[(0,r.jsx)(v.A,{variant:"h1",children:c.Ay.translate("TabLogs")}),!t&&(null==n?void 0:n.isSaved)&&(0,r.jsx)(s.A,{severity:"success",children:c.Ay.translate("SettingsSaved")}),(0,r.jsx)(y.A,{control:(0,r.jsx)(d.A,{checked:null==L?void 0:L.EnableSlowResponseWarning,onChange:W,name:"EnableWarningMessage"}),label:c.Ay.translate("LabelSlowResponseEnabled")}),(0,r.jsx)(b.A,{fullWidth:!0,type:"number",name:"SlowResponseTime",label:c.Ay.translate("LabelSlowResponseTime"),value:null==L?void 0:L.SlowResponseThresholdMs,disabled:!(null==L?void 0:L.EnableSlowResponseWarning),onChange:q}),(0,r.jsx)(p.A,{type:"submit",size:"large",children:c.Ay.translate("Save")})]})}),(0,r.jsx)(f.A,{className:"serverLogs readOnlyContent",sx:{mt:3},children:(0,r.jsx)(E,{logs:m})})]})})};N.displayName="LogsPage"},95858:function(e,n,t){var r=t(62540),o=t(79772),a=(t(63696),t(87404)),i=t(9055),l=function(){return l=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var o in n=arguments[t])Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o]);return e},l.apply(this,arguments)},c=function(e,n){var t="function"==typeof Symbol&&e[Symbol.iterator];if(!t)return e;var r,o,a=t.call(e),i=[];try{for(;(void 0===n||n-- >0)&&!(r=a.next()).done;)i.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(t=a.return)&&t.call(a)}finally{if(o)throw o.error}}return i};n.A=function(e){var n=e.children,t=e.to,u=e.includePaths,s=void 0===u?[]:u,f=e.excludePaths,p=void 0===f?[]:f,y=function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)n.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(t[r[o]]=e[r[o]])}return t}(e,["children","to","includePaths","excludePaths"]),h=(0,a.zy)(),d=c((0,i.ok)(),1)[0],b=c(t.split("?"),2),v=b[0],g=b[1],w=new URLSearchParams("?".concat(g)),m=function(e,n,t){if(t||2===arguments.length)for(var r,o=0,a=n.length;o<a;o++)!r&&o in n||(r||(r=Array.prototype.slice.call(n,0,o)),r[o]=n[o]);return e.concat(r||Array.prototype.slice.call(n))}([v],c(s),!1).includes(h.pathname)&&!p.includes(h.pathname+h.search)&&(!g||function(e,n){var t,r;try{for(var o=function(e){var n="function"==typeof Symbol&&Symbol.iterator,t=n&&e[n],r=0;if(t)return t.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}(e),a=o.next();!a.done;a=o.next()){var i=a.value;if(n.get(i[0])!==i[1])return!1}}catch(e){t={error:e}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(t)throw t.error}}return!0}(w,d));return(0,r.jsx)(o.A,l({component:i.N_,to:t,selected:m},y,{children:n}))}}}]);