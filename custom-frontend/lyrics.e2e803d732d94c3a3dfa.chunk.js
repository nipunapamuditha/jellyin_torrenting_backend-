"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[7631,49803,68603,96084],{9383:function(e,t,r){var n;r.r(t),r.d(t,{AutoScroll:function(){return n}}),function(e){e[e.NoScroll=0]="NoScroll",e[e.Smooth=1]="Smooth",e[e.Instant=2]="Instant"}(n||(n={}))},32203:function(e,t,r){r.d(t,{Bq:function(){return s},Jd:function(){return a},yq:function(){return c}});var n=r(65369),o=r(11444),i="assets/img/devices/";function c(e){var t;switch(e.AppName||e.Client){case"Samsung Smart TV":return i+"samsungtv.svg";case"Xbox One":return i+"xbox.svg";case"Sony PS4":return i+"playstation.svg";case"Kodi":case"Kodi JellyCon":return i+"kodi.svg";case"Jellyfin Android":case"AndroidTV":case"Android TV":return i+"android.svg";case"Jellyfin Mobile (iOS)":case"Jellyfin Mobile (iPadOS)":case"Jellyfin iOS":case"Jellyfin iPadOS":case"Jellyfin tvOS":case"Swiftfin iPadOS":case"Swiftfin iOS":case"Swiftfin tvOS":case"Infuse":case"Infuse-Direct":case"Infuse-Library":return i+"apple.svg";case"Home Assistant":return i+"home-assistant.svg";case"Jellyfin for WebOS":case"LG Smart TV":return i+"webos.svg";case"Jellyfin Roku":return i+"roku.svg";case"Finamp":return i+"finamp.svg";case"Jellyfin Web":return function(e){switch(e){case"Opera":case"Opera TV":case"Opera Android":return i+"opera.svg";case"Chrome":case"Chrome Android":return i+"chrome.svg";case"Firefox":case"Firefox Android":return i+"firefox.svg";case"Safari":case"Safari iPad":case"Safari iPhone":return i+"safari.svg";case"Edge Chromium":case"Edge Chromium Android":case"Edge Chromium iPad":case"Edge Chromium iPhone":return i+"edgechromium.svg";case"Edge":return i+"edge.svg";case"Internet Explorer":return i+"msie.svg";default:return i+"html5.svg"}}(e.Name||e.DeviceName);default:if(null===(t=e.Capabilities)||void 0===t?void 0:t.IconUrl)try{return new URL(e.Capabilities.IconUrl).toString()}catch(t){console.error("[getDeviceIcon] device capabilities has invalid IconUrl",e,t)}return i+"other.svg"}}function a(e){switch(e){case n.X.Movies:return"movie";case n.X.Music:return"music_note";case n.X.Homevideos:case n.X.Photos:return"photo";case n.X.Livetv:return"live_tv";case n.X.Tvshows:return"tv";case n.X.Trailers:return"theaters";case n.X.Musicvideos:return"music_video";case n.X.Books:return"book";case n.X.Boxsets:return"video_library";case n.X.Playlists:return"queue";case"channels":return"videocam";case void 0:return"quiz";default:return"folder"}}function s(e,t){switch(e){case o.D.MusicAlbum:return"album";case o.D.MusicArtist:case o.D.Person:return"person";case o.D.Audio:return"audiotrack";case o.D.Movie:return"movie";case o.D.Episode:case o.D.Series:return"tv";case o.D.Program:return"live_tv";case o.D.Book:return"book";case o.D.Folder:return"folder";case o.D.BoxSet:return"video_library";case o.D.Playlist:return"queue";case o.D.Photo:return"photo";case o.D.PhotoAlbum:return"photo_album";default:return t}}t.Ay={getDeviceIcon:c,getLibraryIcon:a,getItemTypeIcon:s}},95626:function(e,t,r){r.r(t),r.d(t,{default:function(){return T}}),r(24776),r(20518),r(78557),r(23630);var n,o,i,c=r(22696),a=r.n(c),s=r(84069),u=r(70267),l=r(46782),d=r(39738),f=r(93599),v=r(9164),y=r(74550),m=r(5898),h=r(59774),S=r(73233),p=r(44797),g=r(9383),L=!1,A=g.AutoScroll.Instant;function b(e,t,r){return l.A.tv?e+='<button class="lyricsLine dynamicLyric listItem show-focus" id="lyricPosition'.concat(r,'" data-lyrictime="').concat(t.Start,'">').concat(a()(t.Text),"</button>"):e+='<div class="lyricsLine dynamicLyric" id="lyricPosition'.concat(r,'" data-lyrictime="').concat(t.Start,'">').concat(a()(t.Text),"</div>"),e}function w(e,t,r){return l.A.tv?e+='<button class="lyricsLine listItem show-focus" id="lyricPosition'.concat(r,'">').concat(a()(t.Text),"</button>"):e+='<div class="lyricsLine" id="lyricPosition'.concat(r,'">').concat(a()(t.Text),"</div>"),e}function P(e,t){return t.findLastIndex((function(t){return t.Start<=e}))}function I(){var e=d.f.currentTime();return void 0===e&&(e=0),1e4*e}function T(e){function t(t){var r=e.querySelector("#lyricPosition".concat(t));r&&(r.classList.remove("pastLyric"),r.classList.add("futureLyric"))}function r(t){var r=e.querySelector("#lyricPosition".concat(t));r&&(r.classList.remove("pastLyric"),r.classList.remove("futureLyric"),A!==g.AutoScroll.NoScroll&&(f.Ay.scrollToElement(r,A===g.AutoScroll.Smooth),v.A.focus(r),A=g.AutoScroll.Smooth))}function c(n,o){for(var i=0;i<=o.length;i++)i<n?(c=i,a=void 0,(a=e.querySelector("#lyricPosition".concat(c)))&&(a.classList.remove("futureLyric"),a.classList.add("pastLyric"))):i===n?r(i):i>n&&t(i);var c,a}function a(){var t=e.querySelector(".dynamicLyricsContainer");if(t){var r="<h1> ".concat(m.Ay.translate("HeaderNoLyrics")," </h1>");t.innerHTML=r}s.default.autoFocus()}function l(t){i=t,(L=Object.prototype.hasOwnProperty.call(t[0],"Start"))?function(t){var r=e.querySelector(".dynamicLyricsContainer");if(r){var o=t.reduce(b,"");r.innerHTML=o}r.querySelectorAll(".lyricsLine").forEach((function(e){e.addEventListener("click",(function(){return t=e.getAttribute("data-lyrictime"),A=g.AutoScroll.Smooth,d.f.seek(t),void(d.f.paused()&&d.f.playPause(n));var t}))})),c(P(I(),t),i)}(i):function(t){var r=e.querySelector(".dynamicLyricsContainer");if(r){var n=t.reduce(w,"");r.innerHTML=n}}(i),s.default.autoFocus(e)}function T(e){e!==n&&(k(),n=e,e&&(p.A.on(e,"timeupdate",E),p.A.on(e,"playbackstart",D),p.A.on(e,"playbackstop",C)))}function k(){var e=n;e&&(p.A.off(e,"timeupdate",E),p.A.off(e,"playbackstart",D),p.A.off(e,"playbackstop",C),n=null)}function E(){L&&c(P(I(),i),i)}function D(e,t){o.Id!==t.NowPlayingItem.Id&&N()}function C(e,t){t.NextMediaType||u.appRouter.goHome()}function x(){T(d.f.getCurrentPlayer())}function N(){i=null,o=null,L=!1,S.default.setTitle(m.Ay.translate("Lyrics"));var e,t,r,n=d.f.getCurrentPlayer();if(n){T(n);var c=d.f.getPlayerState(n);o=c.NowPlayingItem,(e=c.NowPlayingItem.ServerId,t=c.NowPlayingItem.Id,r=h.tF.getApiClient(e),r.ajax({url:r.getUrl("Audio/"+t+"/Lyrics"),type:"GET",dataType:"json"}).then((function(e){if(!e.Lyrics)throw new Error;return e.Lyrics}))).then(l).catch(a)}else u.appRouter.goHome()}function O(){A=g.AutoScroll.NoScroll}function q(e){var t=y.Ay.getKeyName(e);"ArrowUp"!==t&&"ArrowDown"!==t||(A=g.AutoScroll.NoScroll)}e.addEventListener("viewshow",(function(){p.A.on(d.f,"playerchange",x),A=g.AutoScroll.Instant,document.addEventListener("wheel",O),document.addEventListener("touchmove",O),document.addEventListener("keydown",q);try{N()}catch(e){u.appRouter.goHome()}})),e.addEventListener("viewbeforehide",(function(){p.A.off(d.f,"playerchange",x),document.removeEventListener("wheel",O),document.removeEventListener("touchmove",O),document.removeEventListener("keydown",q),k()}))}}}]);