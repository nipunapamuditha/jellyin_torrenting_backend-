"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[14245,15605,40501,62882],{15605:function(t,e,n){n.r(e);var a=n(10736),i=n(5898),o=n(59774),r=n(44797),s=n(10353);function l(){var t=this,e=t.getAttribute("data-id"),n=t.getAttribute("data-serverid"),a=o.tF.getApiClient(n),i=this.getAttribute("data-likes");i="true"===i||"false"!==i&&null,function(t,e,n,a,i){return e.updateFavoriteStatus(e.getCurrentUserId(),n,!i)}(0,a,e,0,"true"===this.getAttribute("data-isfavorite")).then((function(e){u(t,e.Likes,e.IsFavorite)}))}function c(t,e,n){n.ItemId===this.getAttribute("data-id")&&u(this,n.Likes,n.IsFavorite)}function u(t,e,n,a){var i=t.querySelector(".material-icons");n?(i&&(i.classList.add("favorite"),i.classList.add("ratingbutton-icon-withrating")),t.classList.add("ratingbutton-withrating")):(i&&(i.classList.add("favorite"),i.classList.remove("ratingbutton-icon-withrating")),t.classList.remove("ratingbutton-withrating")),!1!==a&&(t.setAttribute("data-isfavorite",n),t.setAttribute("data-likes",null===e?"":e)),d(t,n)}function d(t,e){t.title=e?i.Ay.translate("Favorite"):i.Ay.translate("AddToFavorites");var n=t.querySelector(".button-text");n&&(n.innerText=t.title)}function f(t){var e,n,i;t.removeEventListener("click",l),(i=(e=t)[n="UserDataChanged"])&&(r.A.off(a.default,n,i),e[n]=null)}function p(t){var e,n,i;f(t),t.addEventListener("click",l),e=t,n="UserDataChanged",i=c.bind(e),r.A.on(a.default,n,i),e[n]=i}var v=Object.create(s.A);v.createdCallback=function(){s.A.createdCallback&&s.A.createdCallback.call(this)},v.attachedCallback=function(){s.A.attachedCallback&&s.A.attachedCallback.call(this);var t=this.getAttribute("data-id"),e=this.getAttribute("data-serverid");if(t&&e){var n=this.getAttribute("data-likes");u(this,n="true"===n||"false"!==n&&null,"true"===this.getAttribute("data-isfavorite"),!1),p(this)}else d(this)},v.detachedCallback=function(){s.A.detachedCallback&&s.A.detachedCallback.call(this),f(this)},v.setItem=function(t){if(t){this.setAttribute("data-id",t.Id),this.setAttribute("data-serverid",t.ServerId);var e=t.UserData||{};u(this,e.Likes,e.IsFavorite),p(this)}else this.removeAttribute("data-id"),this.removeAttribute("data-serverid"),this.removeAttribute("data-likes"),this.removeAttribute("data-isfavorite"),f(this)},document.registerElement("emby-ratingbutton",{prototype:v,extends:"button"})},35300:function(t,e,n){n(84734),n(77575),n(78557),n(67593),n(23630);var a=n(31524),i=n(50921),o=n(70267),r=n(59774),s=n(98320),l=n(44797),c=n(34789),u=n(76542),d=n(46782),f=n(39738),p=n(22622),v=n(47629),y=n(5898),h=n(55802);function m(t){return m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},m(t)}function g(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,b(a.key),a)}}function b(t){var e=function(t){if("object"!=m(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=m(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==m(e)?e:e+""}n(15453),n(15605),n(29305),n(32733),n(84701),n(81678),n(44962),n(4754),n(94),n(36947),n(83994),n(82367);var A,S,L,w,k,B,P,T,C,I,x,E,M,q,R,N,O,D=new(function(){return t=function t(){var e;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.element=((e=document.createElement("div")).classList.add("appfooter"),document.body.appendChild(e),e),this.add=function(t){this.element.appendChild(t)},this.insert=function(t){"string"==typeof t?this.element.insertAdjacentHTML("afterbegin",t):this.element.insertBefore(t,this.element.firstChild)}},(e=[{key:"destroy",value:function(){this.element=null}}])&&g(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e}()),F=n(22832),_=(n(57949),[]),H=0,U={},V=0,j=!0,W=!1;function Q(){this.classList.add("hide")}function Y(){f.f.playPause(A)}function z(){if(O)return O;var t,e,n=D.element;return(O=n.querySelector(".nowPlayingBar"))||(n.insertAdjacentHTML("afterbegin",(t="",t+='<div class="nowPlayingBar hide nowPlayingBar-hidden">',t+='<div class="nowPlayingBarTop">',t+='<div class="nowPlayingBarPositionContainer sliderContainer" dir="ltr">',t+='<input type="range" is="emby-slider" pin step=".01" min="0" max="100" value="0" class="slider-medium-thumb nowPlayingBarPositionSlider" data-slider-keep-progress="true"/>',t+="</div>",t+='<div class="nowPlayingBarInfoContainer">',t+='<div class="nowPlayingImage"></div>',t+='<div class="nowPlayingBarText"></div>',t+="</div>",t+='<div class="nowPlayingBarCenter" dir="ltr">',t+='<button is="paper-icon-button-light" class="previousTrackButton mediaButton" title="'.concat(y.Ay.translate("ButtonPreviousTrack"),'"><span class="material-icons skip_previous" aria-hidden="true"></span></button>'),t+='<button is="paper-icon-button-light" class="playPauseButton mediaButton" title="'.concat(y.Ay.translate("ButtonPause"),'"><span class="material-icons pause" aria-hidden="true"></span></button>'),t+='<button is="paper-icon-button-light" class="stopButton mediaButton" title="'.concat(y.Ay.translate("ButtonStop"),'"><span class="material-icons stop" aria-hidden="true"></span></button>'),d.A.mobile||(t+='<button is="paper-icon-button-light" class="nextTrackButton mediaButton" title="'.concat(y.Ay.translate("ButtonNextTrack"),'"><span class="material-icons skip_next" aria-hidden="true"></span></button>')),t+='<div class="nowPlayingBarCurrentTime"></div>',t+="</div>",t+='<div class="nowPlayingBarRight">',t+='<button is="paper-icon-button-light" class="muteButton mediaButton" title="'.concat(y.Ay.translate("Mute"),'"><span class="material-icons volume_up" aria-hidden="true"></span></button>'),t+='<div class="sliderContainer nowPlayingBarVolumeSliderContainer hide" style="width:9em;vertical-align:middle;display:inline-flex;">',t+='<input type="range" is="emby-slider" pin step="1" min="0" max="100" value="0" class="slider-medium-thumb nowPlayingBarVolumeSlider"/>',t+="</div>",t+='<button is="paper-icon-button-light" class="btnAirPlay mediaButton" title="'.concat(y.Ay.translate("AirPlay"),'"><span class="material-icons airplay" aria-hidden="true"></span></button>'),t+='<button is="paper-icon-button-light" class="openLyricsButton mediaButton hide" title="'.concat(y.Ay.translate("Lyrics"),'"><span class="material-icons lyrics" style="top:0.1em" aria-hidden="true"></span></button>'),t+='<button is="paper-icon-button-light" class="toggleRepeatButton mediaButton" title="'.concat(y.Ay.translate("Repeat"),'"><span class="material-icons repeat" aria-hidden="true"></span></button>'),t+='<button is="paper-icon-button-light" class="btnShuffleQueue mediaButton" title="'.concat(y.Ay.translate("Shuffle"),'"><span class="material-icons shuffle" aria-hidden="true"></span></button>'),t+='<div class="nowPlayingBarUserDataButtons">',t+="</div>",t+='<button is="paper-icon-button-light" class="playPauseButton mediaButton" title="'.concat(y.Ay.translate("ButtonPause"),'"><span class="material-icons pause" aria-hidden="true"></span></button>'),d.A.mobile?t+='<button is="paper-icon-button-light" class="nextTrackButton mediaButton" title="'.concat(y.Ay.translate("ButtonNextTrack"),'"><span class="material-icons skip_next" aria-hidden="true"></span></button>'):t+='<button is="paper-icon-button-light" class="btnToggleContextMenu mediaButton" title="'.concat(y.Ay.translate("ButtonMore"),'"><span class="material-icons more_vert" aria-hidden="true"></span></button>'),t+="</div>",(t+="</div>")+"</div>")),window.CustomElements.upgradeSubtree(n),O=n.querySelector(".nowPlayingBar"),d.A.mobile&&(O.querySelector(".btnShuffleQueue").classList.add("hide"),O.querySelector(".nowPlayingBarCenter").classList.add("hide")),c.A.safari&&c.A.slow&&O.classList.add("noMediaProgress"),F.Ay.on(O),S=(e=O).querySelector(".nowPlayingBarCurrentTime"),L=e.querySelector(".nowPlayingImage"),k=e.querySelector(".nowPlayingBarText"),B=e.querySelector(".nowPlayingBarUserDataButtons"),x=e.querySelector(".nowPlayingBarPositionSlider"),P=e.querySelector(".muteButton"),I=e.querySelectorAll(".playPauseButton"),M=e.querySelector(".toggleRepeatButton"),T=e.querySelector(".nowPlayingBarVolumeSlider"),C=e.querySelector(".nowPlayingBarVolumeSliderContainer"),R=O.querySelector(".openLyricsButton"),P.addEventListener("click",(function(){A&&f.f.toggleMute(A)})),e.querySelector(".stopButton").addEventListener("click",(function(){A&&f.f.stop(A)})),I.forEach((function(t){t.addEventListener("click",Y)})),e.querySelector(".nextTrackButton").addEventListener("click",(function(){A&&f.f.nextTrack(A)})),e.querySelector(".previousTrackButton").addEventListener("click",(function(t){if(A){if(f.f.isPlayingAudio(A)){if(t.detail>1)return;if(f.f.currentTime(A)>=5e3||f.f.getCurrentPlaylistIndex(A)<=0)return f.f.seekPercent(0,A),void(x.value=0)}f.f.previousTrack(A)}})),e.querySelector(".previousTrackButton").addEventListener("dblclick",(function(){A&&f.f.previousTrack(A)})),(E=e.querySelector(".btnAirPlay")).addEventListener("click",(function(){A&&f.f.toggleAirPlay(A)})),e.querySelector(".btnShuffleQueue").addEventListener("click",(function(){A&&f.f.toggleQueueShuffleMode()})),R.addEventListener("click",(function(){W?o.appRouter.back():o.appRouter.show("lyrics")})),(M=e.querySelector(".toggleRepeatButton")).addEventListener("click",(function(){switch(f.f.getRepeatMode()){case"RepeatAll":f.f.setRepeatMode("RepeatOne");break;case"RepeatOne":f.f.setRepeatMode("RepeatNone");break;case"RepeatNone":f.f.setRepeatMode("RepeatAll")}})),q=M.querySelector(".material-icons"),C.classList.toggle("hide",p.g.supports("physicalvolumecontrol")),T.addEventListener("input",(function(t){A&&A.setVolume(t.target.value)})),x.addEventListener("change",(function(){if(A){var t=parseFloat(this.value);f.f.seekPercent(t,A)}})),x.getBubbleText=function(t){if(null==U||!U.NowPlayingItem||!V)return"--:--";var e=V;return e/=100,e*=t,s.Ay.getDisplayRunningTime(e)},e.addEventListener("click",(function(t){v.Ay.parentWithTag(t.target,["BUTTON","INPUT"])||o.appRouter.showNowPlaying()}))),O}function G(t){I&&I.forEach((function(e){var n=e.querySelector(".material-icons");n.classList.remove("play_arrow","pause"),n.classList.add(t?"play_arrow":"pause"),e.title=y.Ay.translate(t?"Play":"ButtonPause")}))}function J(t){q.classList.remove("repeat","repeat_one");var e="buttonActive";switch(t){case"RepeatAll":q.classList.add("repeat"),M.classList.add(e);break;case"RepeatOne":q.classList.add("repeat_one"),M.classList.add(e);break;default:q.classList.add("repeat"),M.classList.remove(e)}}function K(t,e,n){if(x&&!x.dragging)if(e){var a=t/e;a*=100,x.value=a}else x.value=0;if(x&&x.setBufferedRanges(n,e,t),S){var i=null==t?"--:--":s.Ay.getDisplayRunningTime(t);e&&(i+=" / "+s.Ay.getDisplayRunningTime(e)),S.innerHTML=i}}function X(t,e){var n=_,a=!0,i=!0;-1===n.indexOf("ToggleMute")&&(a=!1);var o=P.querySelector(".material-icons");o.classList.remove("volume_off","volume_up"),o.classList.add(t?"volume_off":"volume_up"),P.title=y.Ay.translate(t?"Unmute":"Mute"),-1===n.indexOf("SetVolume")&&(i=!1),A.isLocalPlayer&&p.g.supports("physicalvolumecontrol")&&(a=!1,i=!1),P.classList.toggle("hide",!a),T&&(C.classList.toggle("hide",!i),T.dragging||(T.value=e||0))}function Z(t){if(N){var e=!!t&&"Audio"===t.Type&&t.HasLyrics;R.classList.toggle("hide",!e),$()}}function $(){N&&R.classList.toggle("buttonActive",W)}function tt(t,e){console.debug("nowplaying event: "+t.type),rt.call(this,t,e)}function et(){N&&J(f.f.getRepeatMode())}function nt(){if(N){var t=f.f.getQueueShuffleMode(),e="buttonActive",n=O.querySelector(".btnShuffleQueue");"Shuffle"===t?n.classList.add(e):n.classList.remove(e)}}function at(){N=!1;var t=document.getElementsByClassName("nowPlayingBar")[0];t&&function(t){t.offsetWidth,t.classList.add("nowPlayingBar-hidden"),v.Ay.addEventListener(t,v.Ay.whichTransitionEvent(),Q,{once:!0})}(t)}function it(t,e){console.debug("[nowPlayingBar:onPlaybackStopped] event: "+t.type),this.isLocalPlayer?"Audio"!==e.NextMediaType&&at():e.NextMediaType||at()}function ot(){N&&G(this.paused())}function rt(t,e){if("init"!==t.type){console.debug("[nowPlayingBar:onStateChanged] event: "+t.type);e.NowPlayingItem&&!d.A.tv&&!1!==e.IsFullscreen?this.isLocalPlayer&&e.NowPlayingItem&&"Video"===e.NowPlayingItem.MediaType?at():(N=!0,O||(z(),Z(e.NowPlayingItem)),function(t,e,n){var o;j?(o=z(),v.Ay.removeEventListener(o,v.Ay.whichTransitionEvent(),Q,{once:!0}),o.classList.remove("hide"),o.offsetWidth,o.classList.remove("nowPlayingBar-hidden")):at(),U=e;var s=f.f.getPlayerInfo(),l=e.PlayState||{};G(l.IsPaused);var c=s.supportedCommands;_=c,-1===c.indexOf("SetRepeatMode")?M.classList.add("hide"):M.classList.remove("hide");var p=-1===c.indexOf("AirPlay");if(E.classList.toggle("hide",p),J(f.f.getRepeatMode()),nt(),X(l.IsMuted,l.VolumeLevel),x&&!x.dragging){x.disabled=!l.CanSeek;var y=e.MediaSource&&null==e.MediaSource.RunTimeTicks;x.setIsClear(y)}var m=e.NowPlayingItem||{};K(l.PositionTicks,m.RunTimeTicks,f.f.getBufferedRanges(n)),function(t){var e=t.NowPlayingItem,n=e?(0,i.Y)(e):void 0;if(k.innerHTML="",n){var o=document.createElement("div"),s=document.createElement("div");if(s.classList.add("nowPlayingBarSecondaryText"),n.length>1&&n[1]){var l=document.createElement("a");l.innerText=n[1],s.appendChild(l)}if(n[0]){var c=document.createElement("a");c.innerText=n[0],o.appendChild(c)}k.appendChild(o),k.appendChild(s)}var f=e?(0,a.V)(e,{height:70}):null;if(f!==w&&(f?(w=f,u.default.lazyImage(L,w),L.style.display=null,k.style.marginLeft=null):(w=null,L.style.backgroundImage="",L.style.display="none",k.style.marginLeft="1em")),e.Id){var p=r.tF.getApiClient(e.ServerId);p.getItem(p.getCurrentUserId(),e.Id).then((function(t){var e=t.UserData||{},n=null==e.Likes?"":e.Likes;if(!d.A.mobile){var a=O.querySelector(".btnToggleContextMenu"),i=a.cloneNode(!0);a.parentNode.replaceChild(i,a);var o={play:!1,queue:!1,stopPlayback:!0,clearQueue:!0,positionTo:a=O.querySelector(".btnToggleContextMenu")};p.getCurrentUser().then((function(e){a.addEventListener("click",(function(){h.default.show(Object.assign({item:t,user:e},o)).catch((function(){}))}))}))}B.innerHTML='<button is="emby-ratingbutton" type="button" class="mediaButton paper-icon-button-light" data-id="'+t.Id+'" data-serverid="'+t.ServerId+'" data-itemtype="'+t.Type+'" data-likes="'+n+'" data-isfavorite="'+e.IsFavorite+'"><span class="material-icons favorite" aria-hidden="true"></span></button>'}))}else B.innerHTML=""}(e),Z(m)}(0,e,this)):at()}}function st(){if(N){var t=(new Date).getTime();if(!(t-H<700)){H=t;var e=this;V=f.f.duration(e),K(1e4*f.f.currentTime(e),V,f.f.getBufferedRanges(e))}}}function lt(){N&&X(this.isMuted(),this.getVolume())}function ct(t,e){var n=f.f.getPlayerState(t);rt.call(t,{type:e},n)}function ut(t){W=(0,o.isLyricsPage)(),t!==A&&(function(){var t=A;t&&(l.A.off(t,"playbackstart",tt),l.A.off(t,"statechange",tt),l.A.off(t,"repeatmodechange",et),l.A.off(t,"shufflequeuemodechange",nt),l.A.off(t,"playbackstop",it),l.A.off(t,"volumechange",lt),l.A.off(t,"pause",ot),l.A.off(t,"unpause",ot),l.A.off(t,"timeupdate",st),A=null,at())}(),A=t,t&&(ct(t,"init"),l.A.on(t,"playbackstart",tt),l.A.on(t,"statechange",tt),l.A.on(t,"repeatmodechange",et),l.A.on(t,"shufflequeuemodechange",nt),l.A.on(t,"playbackstop",it),l.A.on(t,"volumechange",lt),l.A.on(t,"pause",ot),l.A.on(t,"unpause",ot),l.A.on(t,"timeupdate",st)))}l.A.on(f.f,"playerchange",(function(){ut(f.f.getCurrentPlayer())})),ut(f.f.getCurrentPlayer()),document.addEventListener("viewbeforeshow",(function(t){W=(0,o.isLyricsPage)(),$(),t.detail.options.enableMediaControl?j||(j=!0,A?ct(A,"refresh"):at()):j&&(j=!1,at())}))},62882:function(t,e,n){n.r(e),n.d(e,{show:function(){return d}});var a=n(22696),i=n.n(a),o=n(79754),r=n(46782),s=n(5898),l=n(47629),c=(n(10353),function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],a=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&a>=t.length&&(t=void 0),{value:t&&t[a++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")});function u(t,e,a){Promise.resolve().then(n.bind(n,10838)).then((function(n){var i=a?"on":"off";n.centerFocus[i](t,e)})).catch((function(t){console.warn("Error in centerFocus",t)}))}function d(t){var e,n,a,d={removeOnClose:!0,enableHistory:t.enableHistory,scrollY:!1};r.A.tv?(d.size="fullscreen",a=!0,d.autoFocus=!0):(d.modal=!1,d.entryAnimation=t.entryAnimation,d.exitAnimation=t.exitAnimation,d.entryAnimationDuration=t.entryAnimationDuration||140,d.exitAnimationDuration=t.exitAnimationDuration||100,d.autoFocus=!1);var f=o.default.createDialog(d);a?f.classList.add("actionsheet-fullscreen"):f.classList.add("actionsheet-not-fullscreen"),f.classList.add("actionSheet"),t.dialogClass&&f.classList.add(t.dialogClass);var p="",v=r.A.tv?"scrollY smoothScrollY hiddenScrollY":"scrollY",y="";t.items.length>20&&(y+="min-width:"+(l.Ay.getWindowSize().innerWidth>=300?240:200)+"px;");var h,m=!1,g=[];try{for(var b=c(t.items),A=b.next();!A.done;A=b.next())(h=(B=A.value).icon||(B.selected?"check":null))&&(m=!0),g.push(h||"")}catch(t){e={error:t}}finally{try{A&&!A.done&&(n=b.return)&&n.call(b)}finally{if(e)throw e.error}}r.A.tv&&(p+='<button is="paper-icon-button-light" class="btnCloseActionSheet hide-mouse-idle-tv" tabindex="-1" title="'.concat(s.Ay.translate("ButtonBack"),'">\n                     <span class="material-icons arrow_back" aria-hidden="true"></span>\n                 </button>'));var S=t.title&&!m;S||r.A.tv?p+='<div class="actionSheetContent actionSheetContent-centered">':p+='<div class="actionSheetContent">',t.title&&(p+='<h1 class="actionSheetTitle">'+i()(t.title)+"</h1>"),t.text&&(p+='<p class="actionSheetText">'+i()(t.text)+"</p>");var L="actionSheetScroller";r.A.tv&&(L+=" actionSheetScroller-tv focuscontainer-x focuscontainer-y"),p+='<div class="'+L+" "+v+'" style="'+y+'">';var w="listItem listItem-button actionSheetMenuItem";(t.border||t.shaded)&&(w+=" listItem-border"),t.menuItemClass&&(w+=" "+t.menuItemClass),r.A.tv&&(w+=" listItem-focusscale"),r.A.mobile&&(w+=" actionsheet-xlargeFont");for(var k=0;k<t.items.length;k++){var B;(B=t.items[k]).divider?p+='<div class="actionsheetDivider"></div>':(p+="<button"+(B.selected&&r.A.tv?" autoFocus":"")+' is="emby-button" type="button" class="'+w+'" data-id="'+(null==B.id||""===B.id?B.value:B.id)+'">',(h=g[k])?p+='<span class="actionsheetMenuItemIcon listItemIcon listItemIcon-transparent material-icons '.concat(h,'" aria-hidden="true"></span>'):m&&!S&&(p+='<span class="actionsheetMenuItemIcon listItemIcon listItemIcon-transparent material-icons check" aria-hidden="true" style="visibility:hidden;"></span>'),p+='<div class="listItemBody actionsheetListItemBody">',p+='<div class="listItemBodyText actionSheetItemText">',p+=i()(B.name||B.textContent||B.innerText),p+="</div>",B.secondaryText&&(p+='<div class="listItemBodyText secondary">'.concat(i()(B.secondaryText),"</div>")),p+="</div>",B.asideText&&(p+='<div class="listItemAside actionSheetItemAsideText">'.concat(i()(B.asideText),"</div>")),p+="</button>")}if(t.showCancel&&(p+='<div class="buttons">',p+='<button is="emby-button" type="button" class="btnCloseActionSheet">'.concat(s.Ay.translate("ButtonCancel"),"</button>"),p+="</div>"),p+="</div>",f.innerHTML=p,r.A.tv){var P=f.querySelector(".actionSheetScroller");P&&u(P,!1,!0)}var T=f.querySelector(".btnCloseActionSheet");T&&T.addEventListener("click",(function(){o.default.close(f)}));var C,I=null;return t.timeout&&(C=setTimeout((function(){o.default.close(f)}),t.timeout)),new Promise((function(e,n){var a=!1;f.addEventListener("click",(function(n){var i=l.Ay.parentWithClass(n.target,"actionSheetMenuItem");i&&(I=i.getAttribute("data-id"),t.resolveOnClick&&(Array.isArray(t.resolveOnClick)?-1!==t.resolveOnClick.indexOf(I)&&(e(I),a=!0):(e(I),a=!0)),o.default.close(f))})),f.addEventListener("close",(function(){if(r.A.tv){var i=f.querySelector(".actionSheetScroller");i&&u(i,!1,!1)}C&&(clearTimeout(C),C=void 0),a||(null!=I?(t.callback&&t.callback(I),e(I)):n(new Error("ActionSheet closed without resolving")))})),o.default.open(f).catch((function(t){console.warn("DialogHelper.open error",t)}));var i=t.positionTo&&"fullscreen"!==d.size?function(t,e,n){var a=l.Ay.getWindowSize(),i=a.innerHeight,o=a.innerWidth,r=function(t){var e,n,a=[];if(!document)return a;try{for(var i=c(t),o=i.next();!o.done;o=i.next()){var r=o.value.getBoundingClientRect();a.push({top:r.top,left:r.left,width:r.width,height:r.height})}}catch(t){e={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return a}([t])[0];"top"!==e.positionY&&(r.top+=(r.height||0)/2),r.left+=(r.width||0)/2;var s=n.offsetHeight||300,u=n.offsetWidth||160;r.top-=s/2,r.left-=u/2;var d=r.left+u-o,f=r.top+s-i;return d>0&&(r.left-=d+20),f>0&&(r.top-=f+20),r.top+=e.offsetTop||0,r.left+=e.offsetLeft||0,r.top=Math.max(r.top,10),r.left=Math.max(r.left,10),r}(t.positionTo,t,f):null;i&&(f.style.position="fixed",f.style.margin="0",f.style.left=i.left+"px",f.style.top=i.top+"px")}))}e.default={show:d}}}]);